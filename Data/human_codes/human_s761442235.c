#include<stdio.h>

int main(){
    
    int ans = 0;//????????¨
    int A[101010] = {0};//????????¨
    int disp[101010] = {0};//??¨?????¨
    int head[101010] = {0};//??????????????¨
    int N = 0;//??\????????°??¨
    int K = 0;//?????§????????°
    int now_i = 0;//?????¨??°
    int now_i_mem = 0;//??????????????¨
    int now_k = 0;//?????¨?????????
    int i = 0;//??????????????°
    
    scanf("%d %d",&N,&K);//??\?????°??¨?????§????????°
    for(i = 1;i <= N;i++){
        scanf("%d",&A[i]);//???????????\???
        head[i] = 1;//head???1????????????
    }
    disp[N] = 1;//????????????????????????????????¶????????¨????????????
    for(i = N;i > 0;i--){//??????????????°????????????
    	
    	
    	//if(disp[i] == 1){//?????????IF???
    	
    		
        	if(A[i] == 0){//?????????1_????????????????????????????????´???
            	disp[i] = 1;
            	continue;
        	}
        	if(head[i] == 1){//?????????2_?????????????????????????????????????????´???
            	disp[i] = 1;
            	now_i = A[i];
            	head[now_i] = 0;
            	now_k++;
            	if(now_k < K){//?????§????????°???????????´???
            	    disp[now_i] = 1;
            	}
            	while(now_i > 0){//??????????????§??????
            	    now_i_mem = A[now_i];
            	    head[now_i_mem] = 0;
            	    now_k++;
            	    if(now_k < K){//?????§??°?????????????????´???
            	        disp[now_i_mem] = 1;
            	    }else break;//K??\???????????£?????´???????????????
            	    now_i = now_i_mem;
            	}
            	now_k = 0;//now_k???????????????????????????
        	}
    		
    		
    	//}//?????????if???
    	
    	
    }
	
	//for(i = 1;i <= N;i++){
	//	printf("disp[%d] = %d\n",i,disp[i]);
	//}
	
    for(i = 1;i <= N;i++) ans += disp[i];
    printf("%d\n",ans);
    return 0;
}