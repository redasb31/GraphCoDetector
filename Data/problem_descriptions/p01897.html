


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async
src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<h1>G: DAG トリオ / DAG Trio</h1>

<p>
この問題は D: DAG Trio (Easy) と制約のみが異なる同じ設定の問題です。
</p>

<h2>プロローグ</h2>
<p>
弟は最近「だぐとりお」が欲しいとしきりに呟いています。
心配になった兄が調べたところ、弟のクラスでは $k$-DAG (有向グラフであって、ある $k$ 個の辺を削除すると、辺の向きを無視したときの連結成分数を $k$ にでき、かつそれら全てが DAG である) が流行っており、
3-DAG を特に DAG トリオと呼ぶことを突き止めました。
弟に尊敬されたい兄は、与えられたグラフが DAG トリオかどうかを判別するプログラムを作成することにしました。
</p>

<h2>問題文</h2>

<p>
$N$ 頂点 $M$ 辺の有向グラフが与えられます。
各頂点には $1$ から $N$ まで番号が振られています。
各有向辺には $1$ から $M$ まで番号が振られています。
有向辺 $i$ は頂点 $a_i$ から $b_i$ に向かいます。
グラフは連結かつ単純です (辺の向きを無視すると、任意の 2 点間に道があり自己ループと多重辺がありません)。
与えられたグラフが DAG トリオならば ”YES”、そうでないなら ”NO” を出力してください。
</p>

<h2>入力</h2>

<p>
$N \ M$<br>
$a_1 \ b_1$<br>
$a_2 \ b_2$<br>
$\vdots$<br>
$a_M \ b_M$<br>
</p>

<h2>制約</h2>

<p>
$3 \le N \le 500$<br>
$\max(3, N−1) \le M \le 30000$<br>
$1 \le a_i, b_i \le N$<br>
グラフは辺の向きを無視したときに連結である。<br>
各 $i$ に対して$a_i \neq b_i$<br>
異なる $i, j$ に対して $\{a_i, b_i\} \neq \{a_j, b_j\}$<br>
</p>

<h2>出力</h2>

<p>
”YES”　または ”NO” を $1$ 行で出力してください。
</p>

<h2>サンプル</h2>

<h3>サンプル入力1</h3>

<pre>
3 3
1 2
2 3
3 1
</pre>

<h3>サンプル出力1</h3>

<pre>
YES
</pre>

<h3>サンプル入力2</h3>

<pre>
6 7
1 2
2 3
4 3
4 5
5 6
6 4
3 6
</pre>

<h3>サンプル出力2</h3>

<pre>
YES
</pre>

<h3>サンプル入力3</h3>

<pre>
7 10
4 2
4 7
4 6
2 7
2 5
2 1
5 6
1 3
6 3
4 3
</pre>

<h3>サンプル出力3</h3>

<pre>
NO
</pre>

<h3>サンプル入力4</h3>

<pre>
4 4
1 2
3 2
4 3
2 4
</pre>

<h3>サンプル出力4</h3>

<pre>
YES
</pre>

<h3>サンプル入力5</h3>

<pre>
8 9
5 1
3 8
1 2
4 8
4 7
7 5
6 5
3 2
4 2
</pre>

<h3>サンプル出力5</h3>

<pre>
YES
</pre>