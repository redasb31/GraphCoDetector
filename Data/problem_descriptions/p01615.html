


    <h1>C: Project Management / プロジェクト管理</h1>



    <p>あなたは凄腕のプロジェクトマネージャである． 今回は超大規模なプロジェクトのマネジメントを請け負った．</p>

    <div align="center">
      <img src="https://judgeapi.u-aizu.ac.jp/resources/images/IMAGE3_Rits_Camp13_Day3_C_C_fig_arrow" alt="C_fig_arrow.png" />

      <p><strong>図1:</strong> アローダイアグラム</p>
    </div>

    <p>これまでの勘と経験からなんとか <strong>図1</strong> のようなアローダイアグラムを作成した． 各ノードは作業の結合点を表している． また，Sはプロジェクトの開始状態，Tはプロジェクトの終了状態を表す結合点である． 例えば結合点P3において，作業Gは作業Cと作業Eが終了しなければ開始できない． プロジェクトの計画は完璧であり，全ての結合点は，そこから出て再びその結合点に戻る作業経路を持たない． また，全ての作業は前後に結合点を持っており， 開始状態と終了状態以外の結合点は必ず前後に作業を持っている．</p>

    <p>しかし，今回のプロジェクトは作業数が多い．</p>

    <p>アローダイアグラムにおいて，所要時間が最長となる経路(クリティカルパス)上の作業は， プロジェクトの時間制約に大きく影響する． そこであなたはアローダイアグラム上のクリティカルパスの所要日数を計算するプログラムを書くことにした． ちなみに，このクリティカリパスは必ずアローダイアグラム上に存在する．</p>

    <div>
      <h1>Input</h1>

      <p>入力は次の形式で表される．</p>

      <div>
        <em>n</em> <em>m</em><br />
        <em>a</em><sub>1</sub> <em>b</em><sub>1</sub> <em>c</em><sub>1</sub><br />
        ...<br />
        <em>a</em><sub>m</sub> <em>b</em><sub>m</sub> <em>c</em><sub>m</sub><br />
      </div>

<br/>

      <p><em>n</em> ( 2 ≦ <em>n</em> ≦ 400 ) は結合点の数， <em>m</em> ( 1 ≦ <em>m</em> ≦ 800 ) は作業の数を表す整数である． このとき，結合点 0 が開始状態の結合点を表し，結合点 <em>n</em> - 1 が終了状態の結合点を表している． <em>a</em><sub>i</sub>, <em>b</em><sub>i</sub>, <em>c</em><sub>i</sub> は1つの空白で区切られた整数であり， 結合点 <em>a</em><sub>i</sub> ( 0 ≦ <em>a</em><sub>i</sub> ≦ <em>n</em> - 2 ) から <em>b</em><sub>i</sub> ( 1 ≦ <em>b</em><sub>i</sub> ≦ <em>n</em> - 1 ) までの作業に <em>c</em><sub>i</sub> ( 1 ≦ <em>c</em><sub>i</sub> ≦ 100 ) 日必要なことを表している． <em>a</em><sub>i</sub> と <em>b</em><sub>i</sub> は常に異なっている． また，同じ <em>a</em><sub>i</sub>, <em>b</em><sub>i</sub> の組みは2度以上現れないと考えて良い．</p>
    </div>

    <div>
      <h1>Output</h1>

      <p>クリティカルパスの所要日数を表す整数を1行出力せよ． 出力にはこれら以外の文字があってはならない．</p>
    </div>

    <div>
      <h1>Sample Input 1</h1>
      <pre>
7 9
0 1 10
0 2 3
1 3 4
1 4 7
2 3 7
2 5 9
3 4 2
4 6 1
5 6 7
</pre>
    </div>

    <div>
      <h1>Sample Output 1</h1>
      <pre>
19
</pre>
    </div>