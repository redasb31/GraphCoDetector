


<h1>Problem I : RMQ</h1>

<p>
<i>n</i> 個の数字<i>a<sub>0</sub></i> ,<i>a<sub>1</sub></i> , ... ,<i>a<sub>n-1</sub></i> と<i>q</i> が与えられる。<br>
<i>q</i> 個のクエリーに対して適切な処理を行なって欲しい。<br>
クエリーは以下の3種類の操作が存在する。<br>
</p>

<ul>
	<li>値のシフトを行う</li>
<i>l</i> と<i>r</i> のペアが与えられる。(<i>l</i> &lt; <i>r</i> )
<i>a<sub>l</sub></i> から <i>a<sub>r</sub></i> までの値を Circular Shiftさせる。

<br>
<br>
<span>
0 1 2 3 4 5 6 7 8 9<br>
</span>
<br>

に対してl=2,r=5というクエリーが与えられたとする。<br>
<br>
シフトを行った数字列は<br>
<br>
<span>
0 1 5 2 3 4 6 7 8 9<br>
</span>
<br>
となる。<br>

</ul>



<ul>
<li>最小値を求める</li>
<i>l</i> と<i>r</i> のペアが与えられる。(<i>l</i> &le; <i>r</i> ) <br>
<i>a<sub>l</sub></i> から <i>a<sub>r</sub></i>までの値の中で最小の値を求める。<br>
</ul>



<ul>
<li>値の更新</li>
<i>pos</i> と <i>val</i> のペアが与えられる。
<i>a<sub>pos</sub></i> の値を <i>val</i> に更新する。
</ul>



<h2>Input</h2>
<p>
入力は以下のフォーマットで与えられる。
</p>

<pre>
<i>n</i> <i>q</i>
<i>a<sub>0</sub></i>
<i>a<sub>1</sub></i>
.
.
.
<i>a<sub>n-1</sub></i>
<i>x<sub>1</sub></i> <i>y<sub>1</sub></i> <i>z<sub>1</sub></i>
<i>x<sub>2</sub></i> <i>y<sub>2</sub></i> <i>z<sub>2</sub></i>
.
.
.
<i>x<sub>q</sub></i> <i>y<sub>q</sub></i> <i>z<sub>q</sub></i>
</pre>

<p>
<i>x<sub>i</sub> = 0</i> なら、シフトのクエリーを表す。このとき、<i>l = y<sub>i</sub></i> , <i>r = z<sub>i</sub></i> とする。<br>
<i>x<sub>i</sub> = 1</i> なら、最小値を求めるクエリーを表す。このとき、<i>l = y<sub>i</sub></i> , <i>r = z<sub>i</sub></i> とする。<br>
<i>x<sub>i</sub> = 2</i> なら、値を更新するクエリーを表す。このとき、<i>pos = y<sub>i</sub></i> , <i>val = z<sub>i</sub></i> とする。<br>
</p>

<p>
入力は以下の制約を満たす<br>
1 &le; <i>n , q</i> &le; 200,000<br>
0 &le; <i>a<sub>i</sub></i> &le; 10,000,000</br>
値を更新するクエリーについて、0 &le; <i>val</i> &le; 10,000,000</br>
</p>

<h2>Output</h2>
<p>
クエリーとして<i>x<sub>i</sub> = 1</i> が与えられたときに、答えの値を１行に出力せよ。
</p>

<h2>Sample Input 1</h2>
<pre>
10 3
0
1
2
3
4
5
6
7
8
9
1 5 7
0 2 5
1 5 7
</pre>

<h2>Sample Output 1</h2>
<pre>
5
4
</pre>

<h2>Sample Input 2</h2>
<pre>
10 10
289383
930886
692777
636915
747793
238335
885386
760492
516649
641421
2 7 368690
1 3 6
0 2 6
1 1 8
0 2 9
2 2 665123
1 5 9
0 2 8
2 7 961393
1 1 2
</pre>

<h2>Sample Output 2</h2>
<pre>
238335
238335
238335
368690
</pre>

