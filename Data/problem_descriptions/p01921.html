


<link rel="stylesheet" href="css/description.css" type="text/css" />
<script language="JavaScript" type="text/javascript" src="js/varmath2017.js" charset="UTF-8"></script>


<h2>F: 木を隠すのなら森の中</h2>

<h3>物語</h3>
<p>
「木はいいです」
喫茶店「タートルハウス」を経営するチコちゃんは、木に並々ならぬ愛情を持っている。なんでも、木の不動のあり方に心が洗われるらしい。。。そんなチコちゃんの木への愛情を確かめるため、同じ喫茶店でバイトをしているココロちゃんはチコちゃんにいたずらを仕掛けることにした。
</p>

<p>ココロちゃんは、チコちゃんのために森を用意して、喫茶店近くに生えていた木を何本か森の中に隠し、チコちゃんの木への愛情を試すことにした。具体的には、チコちゃんに、隠した木を森の中から見つけてもらうことにした。木をこよなく愛するチコちゃんなら、一度見たことがある木は、心の洗われ方の違いでわかるのだが、木を移動してしまったため、木の不動のあり方が変わってしまい、どの木が喫茶店近くにあった木かわからなくなってしまった。しかも、ドジなココロちゃんも答えの木がどれか忘れてしまった！このままでは答えの木を元の場所に戻せないので、ココロちゃんがチコちゃんに怒られてしまう。そこで、優しいプログラマーの皆さんでココロちゃんに答えの木が何本あるのか教えてあげるプログラムを書いてあげよう。</p>

<h3>問題</h3>
<p>入力として、2つのグラフ<var>G_1</var>と<var>G_2</var>が与えられる。<var>G_1</var>は森、つまり閉路のないグラフ（連結とは限らない）で、<var>G_2</var>は木、つまり閉路のない連結なグラフである。このとき、<var>G_1</var>が<var>G_2</var>と同型な連結成分をいくつ持つのかを求めよ</p>

<p>注1）グラフ<var>G_1</var>のある連結成分<var>H_1</var>に含まれる任意の2頂点<var>u, v</var>に対して、<var>u, v</var>が隣接する場合にのみ、<var>G_2</var>中の2頂点<var>f(u), f(v)</var>が隣接するような全単射<var>f</var>が存在するとき、<var>H_1</var>は、<var>G_2</var>と同型な<var>G_1</var>の連結成分であるという。</p>

<h3>入力</h3>
<p>入力は以下の形式で与えられる。</p>

<pre>
<var>N_1</var> <var>M_1</var>
<var>u_1</var> <var>v_1</var>
<var>...</var>
<var>u_{M_1}</var> <var>v_{M_1}</var>
<var>N_2</var>
<var>w_1</var> <var>x_1</var>
<var>...</var>
<var>w_{N_2 - 1}</var> <var>x_{N_2 - 1}</var>
</pre>

<p>1行目では、森<var>G_1</var>の頂点数<var>N_1（1 \leq N_1 \leq 300,000）</var>と辺数<var>M_1（0 \leq M_1 \leq N_1 - 1）</var>が与えられる。続く<var>M_1</var>行では、<var>i</var>行目で<var>G_1</var>の<var>i</var>番目の辺<var>e_i</var>が与えられる<var>(1 \leq i \leq M_1)</var>。<var>e_i</var>は2頂点<var>u_i</var>と<var>v_i</var>をつなぐ辺である。<var>（1 \leq u_i, v_i \leq N_1, u_i \neq v_i）</var>次の行には木<var>G_2</var>の頂点数<var>N_2（1 \leq N_2 \leq 30,000）</var>が与えられる。続く<var>N_2 - 1</var>行では、<var>j</var>行目で<var>G_2</var>の<var>j</var>番目の辺<var>e_j</var>が与えられる<var>(1 \leq j \leq N_2 - 1)</var>。<var>e_j</var>は2頂点<var>w_j</var>と<var>x_j</var>をつなぐ辺である。<var>（1 \leq w_j, x_j \leq N_2, w_j \neq x_j）</var></p>

<h3>出力</h3>
<p><var>G_1</var>の持つ<var>G_2</var>と同型な連結成分の数を出力せよ。</p>



<h3>入力例1</h3>
<pre>
6 4
1 2
2 3
2 4
5 6
4
2 3
3 1
3 4
</pre>

<h3>出力例1</h3>
<pre>1</pre>

<h3>入力例2</h3>
<pre>
14 9
5 8
5 11
10 14
6 4
13 9
3 14
1 2
6 12
7 9
3
3 1
2 1
</pre>

<h3>出力例2</h3>
<pre>4</pre>