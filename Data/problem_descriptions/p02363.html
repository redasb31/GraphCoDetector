
<script src="./IMAGE/varmath.js" charset="UTF-8"></script>
<H1>All Pairs Shortest Path</H1>
<br/>
<H2>Input</H2>

<p>
An edge-weighted graph <var>G</var> (<var>V</var>, <var>E</var>).
</p>

<pre>
|<var>V</var>| |<var>E</var>|
<var>s<sub>0</sub></var> <var>t<sub>0</sub></var> <var>d<sub>0</sub></var>
<var>s<sub>1</sub></var> <var>t<sub>1</sub></var> <var>d<sub>1</sub></var>
:
<var>s<sub>|E|-1</sub></var> <var>t<sub>|E|-1</sub></var> <var>d<sub>|E|-1</sub></var>
</pre>

<p>
<var>|V|</var> is the number of vertices and <var>|E|</var> is the number of edges in <var>G</var>. The graph vertices are named with the numbers 0, 1,..., <var>|V|-1</var> respectively.
</p>

<p>
<var>s<sub>i</sub></var> and <var>t<sub>i</sub></var>  represent source and target vertices of <var>i</var>-th edge (directed) and <var>d<sub>i</sub></var> represents the cost of the <var>i</var>-th edge.
</p>

<H2>Output</H2>

<p>
If the graph contains a negative cycle (a cycle whose sum of edge costs is a negative value), print 

<pre>
NEGATIVE CYCLE
</pre>

<p>
in a line.
</p>

<p>
Otherwise, print
</p>

<pre>
<var>D<sub>0,0</sub></var> <var>D<sub>0,1</sub></var> ... <var>D<sub>0,|V|-1</sub></var>
<var>D<sub>1,0</sub></var> <var>D<sub>1,1</sub></var> ... <var>D<sub>1,|V|-1</sub></var>
:
<var>D<sub>|V|-1,0</sub></var> <var>D<sub>1,1</sub></var> ... <var>D<sub>|V|-1,|V|-1</sub></var>
</pre>

<p>
The output consists of <var>|V|</var> lines. For each <var>i</var>th line, print the cost of the shortest path from vertex <var>i</var> to each vertex <var>j</var> (<var>j = 0, 1, ... |V|-1</var>) respectively. If there is no path from vertex <var>i</var> to vertex <var>j</var>, print "<span>INF</span>". Print a space between the costs.
</p>

<H2>Constraints</H2>

<ul>
<li> 1 &le; <var>|V|</var> &le; 100</li>
<li> 0 &le; <var>|E|</var> &le; 9900</li>
<li> -2 &times 10<sup>7</sup> &le; <var>d<sub>i</sub></var> &le; 2 &times 10<sup>7</sup></li>
<li> There are no parallel edges</li>
<li> There are no self-loops</li>
</ul>

<H2>Sample Input 1</H2>
<pre>
4 6
0 1 1
0 2 5
1 2 2
1 3 4
2 3 1
3 2 7
</pre>
<H2>Sample Output 1</H2>
<pre>
0 1 3 4
INF 0 2 3
INF INF 0 1
INF INF 7 0
</pre>
<br/>

<H2>Sample Input 2</H2>
<pre>
4 6
0 1 1
0 2 -5
1 2 2
1 3 4
2 3 1
3 2 7
</pre>
<H2>Sample Output 2</H2>
<pre>
0 1 -5 -4
INF 0 2 3
INF INF 0 1
INF INF 7 0
</pre>
<br/>

<H2>Sample Input 3</H2>
<pre>
4 6
0 1 1
0 2 5
1 2 2
1 3 4
2 3 1
3 2 -7
</pre>
<H2>Sample Output 3</H2>
<pre>
NEGATIVE CYCLE
</pre>
<br/>
