


<link rel="stylesheet" href="css/description.css" type="text/css" />
<script language="JavaScript" type="text/javascript" src="js/varmath2017.js" charset="UTF-8"></script>


<h2>G: 恋のジュンレツRun!Run!Run! - Love Permutation, Run run run! -</h2>

<h3>物語</h3>
<p>
おおきなジュンレツ らんらんらんでぶー♪
Hello, 星空蘭にゃ！
好きなデータ構造は Starry Sky Tree にゃ！
</p>

<p>
蘭は最近物理学科に入学したんだけど、どうやらそこでもプログラミングをやらないといけないらしいんだ。
蘭、アルゴリズムやデータ構造の理論は好きなんだけど、実装はどうも苦手なんだよね……
だいたい蘭達は人間なのに、どうして機械の言葉を勉強しなくちゃいけないの！？
</p>

<p>
とはいえ、課題をやらないことには単位が出ないしやるしかないにゃ。
今回出た課題は順列の run とかいうのが関係しているらしいんだー。
この問題、明らかに作者がタイトル一発ネタで考えてるのが見え見えにゃ、ちょっと寒くないかにゃー。
とにかく、プログラミングが得意なあなたに手伝ってもらえたら、テンション上がるにゃー！
それじゃあ問題、行っくにゃ〜！
</p>

<h3>問題</h3>
<p>長さ<var>K</var>の数列<var>a</var>が<var>1 \leq a_i \leq K</var> <var>(1 \leq i \leq K)</var> かつ<var>a_i \neq a_j</var> <var>(1 \leq i &lt; j \leq K)</var> を満たすとき、<var>a</var>は長さ<var>K</var>の順列であるという。</p>

<p>
ここで順列のパターンマッチングを以下のように定義する。
テキスト順列<var>q</var>がパターン順列<var>p</var>にマッチするとは、<var>p</var>と相対順序が一致するような、<var>p</var>と同じ長さの<var>q</var>の (連続とは限らない) 部分列が存在することをいう。
より厳密には、<var>q</var>の長さを<var>N</var>、<var>p</var>の長さを<var>M</var>としたとき、<var>q</var>が<var>p</var>にマッチするとは、ある条件を満たす添え字列 <var>1 \leq i_1 &lt; ... &lt; i_M \leq N</var>が存在することである。その条件とは、<var>p_x &lt; p_y</var> <var>(1 \leq x&lt;y \leq M)</var> ならば、かつそのときに限り<var>q_{i_x} &lt; q_{i_y}</var>となることである。
例えば、順列<var>(3, 4, 2, 1, 5)</var>は順列<var>(2, 1, 3)</var>にマッチする。なぜならば、添え字列<var>(1, 4, 5)</var>が上記の条件を満たすからである。
</p>

<p>
さらに、順列の run を定義する。
順列のrunとは、単調増加、あるいは単調減少な極大連続部分列である。すなわち、run は連続部分列 <var>a_l, ..., , a_r</var> <var>(l&lt;r)</var> のうち、<var>a_i &lt; a_{i+1}</var> <var>(l \leq i &lt; r)</var> (<var>a_i &gt; a_{i+1}</var> <var>(l \leq i &lt; r)</var>) を満たし、かつこの区間を真に包含する連続区間からなる run が存在しないものを言う。
例えば、順列<var>(3, 4, 2, 1, 5)</var>は<var>(3, 4)</var>, <var>(4, 2, 1)</var>, <var>(1, 5)</var>という3つのrunを持つ。
</p>

<p>
長さ<var>N</var>のテキスト順列<var>q</var>と長さ<var>M</var>のパターン順列<var>p</var>が与えられる。
ここで、<var>q</var>は必ずちょうど3つだけの run を持つことが保証される。
<var>q</var>が<var>p</var>にマッチするかどうかを判定せよ。
</p>

<h3>入力形式</h3>
<p>入力は以下の形式で与えられる。</p>
<pre>
<var>N</var>
<var>q_1</var> ... <var>q_N</var>
<var>M</var>
<var>p_1</var> ... <var>p_M</var>
</pre>

<p>
入力は全て整数からなる。
1行目にはテキストとなる順列<var>q</var>の長さ<var>N</var>が与えられる。
続く2行目は<var>N</var>個の整数が空白区切りで与えられ、<var>i</var> <var>(1 \leq i \leq N)</var> 番目の整数は<var>q</var>の<var>i</var>番目の要素<var>q_i</var>を表す。
3行目にはパターンとなる順列<var>p</var>の長さ<var>M</var>が与えられる。
続く4行目は<var>M</var>個の整数が空白区切りで与えられ、<var>j</var> <var>(1 \leq j \leq M)</var> 番目の整数は<var>p</var>の<var>j</var>番目の要素<var>p_j</var>を表す。
</p>

<h3>制約</h3>
<ul>
<li><var>4 \leq N \leq 10^5</var></li>
<li><var>1 \leq M \leq N</var></li>
<li><var>q, p</var>はそれぞれ長さ<var>N, M</var>の順列である。</li>
<li><var>q</var>が持つ run の数はちょうど3。</li>
</ul>

<h3>出力形式</h3>
<p>順列<var>q</var>が順列<var>p</var>にマッチするとき"Yes"、そうでなければ"No"と1行に出力せよ。</p>

<h3>入力例1</h3>
<pre>
5
3 4 2 1 5
3
1 2 3
</pre>

<h3>出力例1</h3>
<pre>Yes</pre>

<h3>入力例2</h3>
<pre>
5
3 5 4 1 2
3
1 2 3
</pre>

<h3>出力例2</h3>
<pre>No</pre>