<h1>座席 (Seats)　</h1>
<!--　　時間制限 : 5sec / メモリ制限 : 256MB -->

<h2> 問題文</h2>

<p>
2XXX 年，世界の国は直線状に並んでいた．<var>N</var> 個の国があり，<var>1, 2, ..., N</var> の番号が付けられている．<var>i = 1, 2, ..., N - 1</var> に対し，国 <var>i</var> と国 <var>i + 1</var> が互いに隣国である．
</p>

<p>
この年の国際情報オリンピックでは，国 <var>i</var> からは <var>A_i</var> 人の選手が参加する．国際情報オリンピックの技術委員のあなたは，競技での座席表を作成する担当である．競技会場が細長いため，一列に並んだ <var>A_1 + A_2 + ... + A_N</var> 個の座席に選手たちを割り当てることになった．不正防止のため，同じ国の選手や隣国の選手を隣り合う席に割り当ててはならない．
</p>

<p>
選手たちを座席に割り当てる方法は何通りあるだろうか．この数は非常に大きくなる可能性があるので，それを <var>10007</var> で割った余りを求めたい．
</p>

<h2>制約</h2>

<ul>
<li><var>1 ≦ N ≦ 100</var></li>
<li><var>1 ≦ A_i ≦ 4</var> (<var>1 ≦ i ≦ N</var>)</li>
</ul>

<h2> 入力・出力</h2>

<p>
<b>入力</b><br>
入力は以下の形式で標準入力から与えられる．<br>
<var>N</var><br>
<var>A_1</var> <var>A_2</var> <var>...</var> <var>A_N</var>
</p>

<p>
<b>出力</b><br>
選手たちを座席に割り当てる方法の数を <var>10007</var> で割った余りを <var>1</var> 行で出力せよ．
</p>

<!--
<h2>小課題</h2>
<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
</p>

<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
<ol style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
<li>(<var>6</var> 点) <var>N ≦ 5</var>，<var>A_i ≦ 2</var> (<var>1 ≦ i ≦ N</var>)</li>
<li>(<var>14</var> 点) <var>N ≦ 10</var>，<var>A_i ≦ 3</var> (<var>1 ≦ i ≦ N</var>)</li>
<li>(<var>80</var> 点) 追加の制約はない．</li>
</ol>
</p>
-->

<h2>入出力例</h2>

<h3>入力例 1</h3>
<pre>
4
2 1 1 1
</pre>

<h3>出力例 1</h3>
<pre>
4
</pre>

<p>
国 <var>1</var> から参加する <var>2</var> 人の選手を <var>1</var> と <var>1'</var>，国 <var>2</var> から参加する <var>1</var> 人の選手を <var>2</var>，国 <var>3</var> から参加する <var>1</var> 人の選手を <var>3</var>，国 <var>4</var> から参加する <var>1</var> 人の選手を <var>4</var> で表すことにすると，選手たちを座席に割り当てる方法としては，以下の <var>4</var> 通りの並べ方が考えられる：
</p>

<ul>
<li><var>1</var>, <var>3</var>, <var>1'</var>, <var>4</var>, <var>2</var></li>
<li><var>1'</var>, <var>3</var>, <var>1</var>, <var>4</var>, <var>2</var></li>
<li><var>2</var>, <var>4</var>, <var>1</var>, <var>3</var>, <var>1'</var></li>
<li><var>2</var>, <var>4</var>, <var>1'</var>, <var>3</var>, <var>1</var></li>
</ul>

<h3>入力例 2</h3>
<pre>
5
1 2 3 2 1
</pre>

<h3>出力例 2</h3>
<pre>
0
</pre>

<p>
この入力例では，条件を満たす座席表は存在しない．
</p>

<h3>入力例 3</h3>
<pre>
6
1 2 3 3 2 1
</pre>

<h3>出力例 2</h3>
<pre>
4754
</pre>

<p>
この入力例では，選手たちを座席に割り当てる方法は <var>24768</var> 通りあるため，それを <var>10007</var> で割った余りである <var>4754</var> を出力する．
</p>

<br/>
<div class="source">
<p class="source">
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="クリエイティブ・コモンズ・ライセンス" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"/></a>
</p>
<p class="source">
<a href="https://www.ioi-jp.org/joi/2018/2019-yo/index.html">情報オリンピック日本委員会作 『第 18 回日本情報オリンピック JOI 2018/2019 予選競技課題』</a>
</p>
</div>
