<span class="lang-en lang-child hidden-lang">
<div id="task-statement">
<div class="part">
					Max Score: $1500$ Points <br/>
<section>
<h3>Problem Statement</h3>
						There is a $50 \times 50$ field. The cell at $i$-th row and $j$-th column is denoted $(i, j)$ (0-indexed). <br/>
						One day, square1001 puts $250$ bombs in this field. In each cell, there is 1 or 0 bomb. <br/>
						You want to know where the bombs are by asking some questions. <br/>
<div align="left" class="img-nocaption">
<img src="https://atcoder.jp/img/s8pc-3/f963d1cafbb260ddc067f68c6292487c.png" width="300"/>
</div>
<br/>
						You can ask this question many times. <br/>
<ul class="simple">
<li>You can ask the number of bombs in the rectangular area in which upper-left cell is $(a, b)$ and lower-right cell is $(c, d)$.</li>
</ul>
<br/>
						Please find all bombs' positions asking as few questions as possible. <br/>
<br/>
						Note: This problem Input/Output type is special. Please read Input/Output. If you want to use <code>scanf/printf</code>, you have to write <code>fflush(stdout)</code>.<br/>
</section>
</div>
<hr/>
<div class="io-style">
<div class="part">
<section>
<h3>Input and output</h3>
							The first line input is following this format:<br/>
<blockquote>$H \ W \ N \ K$
</blockquote>
<ul class="simple">
<li>$H, W$ is field size. In this problem, $H = 50$ and $W = 50$.</li>
<li>$N$ is the number of bombs in the field. In this problem, $N = 250$.</li>
<li>$K$ is modulo. This integer uses to answer the state of the field.</li>
</ul>
<br/>
							After this input, You can ask some questions, following this output format: <br/>
<blockquote>$? \ a \ b \ c \ d$
</blockquote>
							It means that you want to ask the number of bombs in the rectangular area which upper-left cell is $(a, b)$ and lower-right cell is $(c, d)$.<br/>
<br/>
							You can know the value of the question, from input in this format:<br/>
<blockquote>$p$
</blockquote>
							$p$ is the result of your question. <br/>
<br/>
							Finally, you have to output the answer following this format:<br/>
<blockquote>$! \ ans$
</blockquote>
							The value of $ans$ is $\sum_{i=0}^{H-1} \sum_{j=0}^{W-1} r_{i, j} 2^{iW + j}$ mod $K$.
							Note: $r_{i, j}$ is the number of bombs in cell $(i, j)$.<br/>
</section>
</div>
<div class="part">
<section>
<h3>Constraints</h3>
<ul>
<li>$H, W = 50$</li>
<li>$N = 250$</li>
<li>$1,000,000,000 \le K \le 1,000,010,000$ ($K$ is random)</li>
</ul>
</section>
<section>
<h3>Score</h3>
							There are 5 testcases in the judge. <br/>
							The $score$ in each testcase is defined by following formula: <br/>
<ul>
<li>$Q$ is the number of questions.</li>
<li>If $Q &gt; 2500$, $score = 0$ (Wrong Answer).</li>
<li>If $930 \le Q \le 2500$, $score = max(\lfloor 125 - 3.2\sqrt{Q - 920} \rfloor, 40)$.</li>
<li>If $880 \le Q &lt; 930$, $score = \lfloor 288 - 22\sqrt{Q - 870} \rfloor$.</li>
<li>If $Q &lt; 880$, $score = min(2860 - 3Q, 300)$.</li>
</ul>
</section>
</div>
</div>
<div class="part">
<section>
<h3>Sample Input・Output</h3>
						In the case of the following arrangement, this input / output is conceivable.<br/>
						This case is $H,W=4$, so this example is not include in testcases.<br/>
<pre>
H=4, W=4, N=4
1001
0000
0010
0100
</pre>
						Example of Input・Output<br/>
<table class="table-striped table-bordered table-condensed">
<tr align="center">
<th>Input from program</th>
<th>Output</th>
</tr>
<tr align="center">
<td>4 4 4 1000000007</td>
<td> </td>
</tr>
<tr align="center">
<td> </td>
<td>? 0 0 0 1</td>
</tr>
<tr align="center">
<td>1</td>
<td> </td>
</tr>
<tr align="center">
<td> </td>
<td>? 0 1 0 2</td>
</tr>
<tr align="center">
<td>0</td>
<td> </td>
</tr>
<tr align="center">
<td> </td>
<td>? 0 3 1 3</td>
</tr>
<tr align="center">
<td>1</td>
<td> </td>
</tr>
<tr align="center">
<td> </td>
<td>? 2 1 3 2</td>
</tr>
<tr align="center">
<td>2</td>
<td> </td>
</tr>
<tr align="center">
<td> </td>
<td>? 2 2 2 2</td>
</tr>
<tr align="center">
<td>1</td>
<td> </td>
</tr>
<tr align="center">
<td> </td>
<td>! 9225</td>
</tr>
</table>
						These question is not always meaningful. <br/>
</section>
</div>
				Writer: E869120<br/>
</div>
</span>