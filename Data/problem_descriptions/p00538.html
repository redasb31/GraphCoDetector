


<h2>ケーキの切り分け２ (Cake 2)</h2>
<p>
JOI くんと IOI ちゃんは双子の兄妹である．JOI くんは最近お菓子作りに凝っていて，今日も JOI くんはケーキを焼いて食べようとしたのだが，焼きあがったところで匂いをかぎつけた IOI ちゃんが来たので 2人でケーキを分けることになった．
</p>

<p>
ケーキは円形である．ある点から放射状に切り目を入れ，ケーキを <var>N</var> 個のピースに切り分け，ピースに 1 から <var>N</var> まで反時計回りに番号をつけた．つまり，1 &le; <var>i</var> &le; <var>N</var> に対し，<var>i</var> 番目のピースは <var>i</var> − 1 番目と <var>i</var> + 1 番目のピースと隣接している (ただし 0 番目は <var>N</var> 番目，<var>N</var> + 1 番目は 1 番目とみなす) ．<var>i</var> 番目のピースの大きさは <var>A<sub>i</sub></var> だったが，切り方がとても下手だったので <var>A<sub>i</sub></var> はすべて異なる値になった．
</p>

<center>
<img src="https://judgeapi.u-aizu.ac.jp/resources/images/IMAGE2_JOI2014_cake2"><br>
図 1: ケーキの例 (<var>N</var> = 5, <var>A<sub>1</sub></var> = 2, <var>A<sub>2</sub></var> = 8, <var>A<sub>3</sub></var> = 1, <var>A<sub>4</sub></var> = 10, <var>A<sub>5</sub></var> = 9)
</center>


<br>

<p>
この <var>N</var> 個を JOI くんと IOI ちゃんで分けることにした．分け方は次のようにすることにした：
</p>
<ol>
<li> まず JOI くんが <var>N</var> 個のうちの好きな 1 つを選んで取る．</li>
<li> その後，IOI ちゃんからはじめて IOI ちゃんと JOI くんが交互に残りのピースを 1 つずつ取っていく．ただし，両隣のピースのうち少なくとも一方が既に取られているようなピースしか取ることができず，取れるピースが複数あるときは，IOI ちゃんはそのうち最も大きいものを選んで取り，JOI くんはそのうちで好きなものを選んで取ることができる．
</li>
</ol>
<p>
JOI くんは，自分が最終的に取るピースの大きさの合計を最大化したい．
</p>

<h3>課題</h3>
<p>
ケーキのピースの数 <var>N</var> と，<var>N</var> 個のピースの大きさの情報が与えられたとき，JOI くんが取れるピースの大きさの合計の最大値を求めるプログラムを作成せよ．
</p>

<h3>入力</h3>
<p>
標準入力から以下の入力を読み込め．
</p>

<ul>
<li> 1 行目には整数 <var>N</var> が書かれており，ケーキが <var>N</var> 個のピースに切り分けられていることを表す．</li>
<li> 続く <var>N</var> 行のうちの <var>i</var> 行目 (1 &le; <var>i</var> &le; <var>N</var>) には整数 <var>A<sub>i</sub></var> が書かれており，<var>i</var> 番目のピースの大きさが <var>A<sub>i</sub></var> であることを表す．
</li>
</ul>

<h3>出力</h3>
<p>
標準出力に，JOI くんが取れるピースの大きさの合計の最大値を表す整数を 1 行で出力せよ.
</p>


<h3>制限</h3>
<p>
すべての入力データは以下の条件を満たす．
</p>
<ul>
<li> 1 &le; <var>N</var> &le; 2 000． </li>
<li> 1 &le; <var>A<sub>i</sub></var> &le; 1 000 000 000．</li>
<li> <var>A<sub>i</sub></var> はすべて異なる．</li>
</ul>

<h3>入出力例</h3>

<h3>入力例 1 </h3>
<pre>
5
2
8
1
10
9
</pre>

<h3>出力例 1</h3>
<pre>
18
</pre>

<p>
JOI くんは，次のようにピースを取るのが最適である．
</p>

<ol>
<li> JOI くんは 2 番目のピースを取る．このピースの大きさは 8 である．</li>
<li> IOI ちゃんは 1 番目のピースを取る．このピースの大きさは 2 である．</li>
<li> JOI くんは 5 番目のピースを取る．このピースの大きさは 9 である．</li>
<li> IOI ちゃんは 4 番目のピースを取る．このピースの大きさは 10 である．</li>
<li> JOI くんは 3 番目のピースを取る．このピースの大きさは 1 である．</li>
</ol>
<p>
最終的に，JOI くんが取ったピースの大きさの合計は，8 + 9 + 1 = 18 となる.
</p>

<h3>入力例 2 </h3>
<pre>
8
1
10
4
5
6
2
9
3
</pre>

<h3>出力例 2</h3>
<pre>
26
</pre>

<h3>入力例 3</h3>
<pre>
15
182243672
10074562
977552215
122668426
685444213
3784162
463324752
560071245
134465220
21447865
654556327
183481051
20041805
405079805
564327789
</pre>

<h3>出力例 3</h3>
<pre>
3600242976
</pre>




<div class="source">
<p class="source">
問題文と自動審判に使われるデータは、<a href="http://www.ioi-jp.org">情報オリンピック日本委員会</a>が作成し公開している問題文と採点用テストデータです。
</p>
</div>
