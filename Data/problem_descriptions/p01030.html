<h1>Problem C: Changing Grids</h1>

<h2>Background</h2>
<p>
  A君とB君は、『Changing Grids』というゲームに熱中している。このゲームは2人用で、プレイヤー1がステージを構成し、プレイヤー2がそのステージに挑戦しゴールを目指すというものである。
</p>

<p>
  今、A君とB君はこのゲームを何度かプレイしているが、A君の連勝でB君は1度も勝つことができていない。そこであなたは、B君にこのゲームを攻略するためのヒントを教えてあげることにした。
</p>

<h2>Problem</h2>
<p>
時刻<var>T</var><sub>0</sub> = 0における縦<var>H</var>&times;横<var>W</var>の大きさの二次元グリッドの状態が<var>Area</var><sub>0</sub>として与えられる。次に、このグリッドの状態は時刻<var>T<sub>i</sub></var>において、状態<var>Area<sub>i</sub></var>に切り替わる。この切り替わる過程は<var>N</var>回繰り返される。初期状態のグリッドにはスタートの位置'S'とゴールの位置'G'が与えられる。いずれかのグリッドにおいてゴールへ辿り着ける場合は、そのときの最小歩数を出力し、ゴールへ辿り着けない場合は、'-1'を出力せよ。なお、以下の条件も満たす必要がある。<br>
</p>

<ul>
<li><var>Area<sub>i</sub></var>は以下の要素で構成されている。</li>
<ul>
 <li>‘.’は何もなく移動可能なマス</li>
 <li>’#’は障害物であり、移動不可能なマス</li>
 <li>'S'はスタート位置を表すマス</li>
 <li>'G'はゴール位置を表すマス</li>
</ul>
<li>プレイヤーは現在いるマスの隣接している上下左右のいずれか1マスに移動する、または現在いるマスに留まるのに1秒かかる。ただし、障害物のマスやグリッドの範囲外には移動できない。</li>
<li>歩数は、現在プレイヤーがいるマスから上下左右のマスへ1マス進むと1増加する。その場に留まる場合には増加しない。</li>
<li>全てのグリッドの大きさは縦<var>H</var>&times;横<var>W</var>である。</li>
<li>1マス移動、またはその場に留まった後にグリッドが切り替わる際、次のグリッドにおいて障害物が存在しないマスであれば今のグリッドの状態に関わらず移動が可能である。</li>
<li>全てのグリッドにおいて、初期のグリッドに与えられたゴール位置に到達した場合ゴールとみなす。</li>
</ul>

<h2>Input</h2>
<p>入力は以下の形式で与えられる。</p>
<pre>
<var>H</var> <var>W</var>
<var>Area</var><sub>0</sub>
<var>N</var>
<var>T</var><sub>1</sub>
<var>Area</var><sub>1</sub>
<var>T</var><sub>2</sub>
<var>Area</var><sub>2</sub>
.
.
<var>T<sub>N</sub></var>
<var>Area<sub>N</sub></var>
</pre>
<p>
1行目に2つの整数<var>H,W</var>が空白区切りで与えられる。これは、それぞれ二次元グリッドの縦と横の大きさを表す。2行目から<var>H</var>+1行目までの各行に初期状態の二次元グリッドの状態が与えられる。<var>H</var>+2行目に整数<var>N</var>が与えられる。これは、二次元グリッドの変化する回数を表す。<var>H</var>+3行目以降に<var>N</var>個の二次元グリッドの切り替わる時刻<var>T<sub>i</sub></var>とその状態が与えられる。ただし、<var>T<sub>i</sub></var>は全て整数である。
</p>

<h2>Constraints</h2>
<p>
入力は以下の条件を満たす。
</p>
<ul>
<li>2 &le; <var>H,W</var> &le; 20</li>
<li>1 &le; <var>N</var> &le; 15</li>
<li>1 &le; <var>T<sub>i</sub></var> &le; 200 (<var>T</var><sub>1</sub> &lt; <var>T</var><sub>2</sub> &lt; ... &lt; <var>T<sub>N</sub></var>)</li>
<li>スタート位置'S'とゴール位置'G'はそれぞれ初期の二次元グリッドに1つだけ存在する。</li>
</ul>

<h2>Output</h2>
<p>
スタートからゴールへ到達するための最小の歩数を出力せよ。ただし、ゴールに到達できない場合は'-1'を出力せよ。
</p>

<h2>Sample Input 1</h2>
<pre>
2 2
S.
.G
1
3
##
##
</pre>

<h2>Sample Output 1</h2>
<pre>
2
</pre>
<p>
1番目のグリッドに切り替わる時刻<var>T</var><sub>1</sub>は3であり、時間内にプレイヤーはスタートからゴールまでの最短歩数が2歩で辿り着くことが可能なので2を出力する。
</p>

<h2>Sample Input 2</h2>
<pre>
2 2
S.
.G
1
2
##
##
</pre>

<h2>Sample Output 2</h2>
<pre>
-1
</pre>

<h2>Sample Input 3</h2>
<pre>
2 3
S##
##G
4
2
###
.##
3
###
#.#
5
###
##.
7
###
###
</pre>

<h2>Sample Output 3</h2>
<pre>
3
</pre>

<h2>Sample Input 4</h2>
<pre>
4 3
S..
...
.G.
...
4
2
###
#.#
###
#.#
4
###
#..
#..
###
6
###
#.#
###
#..
8
###
#..
#..
###
</pre>

<h2>Sample Output 4</h2>
<pre>
3
</pre>

<h2>Sample Input 5</h2>
<pre>
3 3
S##
###
##G
1
1
...
...
...
</pre>

<h2>Sample Output 5</h2>
<pre>
4
</pre>
