<h2>G: Donuts Orientation</h2>

<h3>物語</h3>

<p>ほむちゃんの最近のマイブームはお菓子作りだ。たくさんお菓子を作っては、それを友達におすそ分けしているらしい。そんなほむちゃんは今回、ドーナツづくりに挑戦するようだ。</p>

<p>ドーナツづくりに大切なことはいくつもある。生地や味付けはもちろん、かわいい見た目にするためのデコレーションも外せない。試行錯誤を繰り返しているうちに、ほむちゃんのデコレーションへのこだわりに熱がこもってきたようだ。こだわりぬいたドーナツを多くの人に食べてもらいたいので、ほむちゃんはドーナツをたくさんつくりたいと考えている。</p>

<p>・・・ところで、こだわるのは一向に構わないが、ほむちゃんこだわりのドーナツを十分な数用意することはできるのだろうか？</p>

<h3>問題</h3>

<p><var>3</var> 以上の整数 <var>N</var> について、以下のようにして <var>2N</var> 頂点のグラフを作る。</p>

<ul>
<li> それぞれの頂点について <var>1</var> から <var>2N</var> で番号付けする。</li>
<li> 各整数 <var>1 \leq a \leq N</var> について、頂点 <var>2a-1</var> と <var>2a</var> の間に無向辺を張る</li>
<li> 各整数 <var>1 \leq b \leq 2N-2</var> について、頂点 <var>b</var> と <var>b+2</var> の間に無向辺を張る</li>
<li> 頂点 <var>1</var> と <var>2N-1</var> および <var>2</var> と <var>2N</var> の間に無向辺を張る</li>
</ul>

<p>このグラフの各辺に向きをつけて、有向グラフを作る。つまり、頂点 <var>u</var> と <var>v</var> の間に無向辺があるならば、それを <var>u</var> から <var>v</var> へ向かう有向辺にするか、<var>v</var> から <var>u</var> へ向かう有向辺にする。</p>

<p>このようにしてできた有向グラフであって、サイクルを持たないものが何通りあるかを知りたい。答えは非常に大きくなるため、素数 <var>M</var> で割った余りを求めよ。</p>

<h3>入力形式</h3>

<pre><var>N</var> <var>M</var></pre>

<h3>制約</h3>

<ul>
<li> <var>3 \leq N \leq 1,000</var></li>
<li> <var>10^8 \leq M \leq 10^9 + 7</var></li>
<li> <var>M</var> は素数であることが保証される</li>
</ul>

<h3>出力形式</h3>

<p>条件を満たす有向グラフの数を <var>M</var> で割った余りを出力せよ。</p>

<h3>入力例1</h3>
<pre>3 1000000007</pre>

<h3>出力例1</h3>
<pre>204</pre>

<p><var>N = 3</var> なので、<var>6</var> 頂点からなるグラフを作る。条件に合致する有向グラフの一例は以下の通りである。</p>

<object data="https://judgeapi.u-aizu.ac.jp/resources/images/hupc2019_rupc2019-g-001.png" type="image/png" width="400"></object>

<p>サイクルが存在するため、以下に示す有向グラフは条件を満たさない。</p>

<object data="https://judgeapi.u-aizu.ac.jp/resources/images/hupc2019_rupc2019-g-002.png" type="image/png" width="400"></object>

<h3>入力例2</h3>
<pre>128 998244353</pre>

<h3>出力例2</h3>
<pre>996915100</pre>

<p><var>M</var> で割った余りを出力することに注意せよ。</p>
